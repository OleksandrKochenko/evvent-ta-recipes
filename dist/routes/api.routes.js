"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.apiRouter = void 0;
const express_1 = __importDefault(require("express"));
const api_controllers_1 = require("../controllers/api.controllers");
const authenticate_1 = require("../middlewares/authenticate");
const isValidId_1 = require("../middlewares/isValidId");
const uploads_1 = require("../middlewares/uploads");
const isFileUpload_1 = require("../middlewares/isFileUpload");
const validatePecipeData_1 = require("../middlewares/validatePecipeData");
const router = express_1.default.Router();
router.use(authenticate_1.authenticate);
router.get("/categories", api_controllers_1.getAllCategories);
router.get("/ingredients", api_controllers_1.getIngredients);
router.get("/recipes", api_controllers_1.getRecipes);
router.get("/recipes/my", api_controllers_1.getMyRecipes);
router.get("/recipes/favorites", api_controllers_1.getFavorites);
router.put("/recipes/favorites/:id", isValidId_1.isValidId, api_controllers_1.updateFavoriteRecipe);
router.get("/recipes/:id", isValidId_1.isValidId, api_controllers_1.getRecipeById);
router.post("/recipes/", uploads_1.upload.single("preview"), isFileUpload_1.isFileUpload, validatePecipeData_1.validateRecipeData, api_controllers_1.addRecipe);
router.delete("/recipes/:id", isValidId_1.isValidId, api_controllers_1.deleteRecipe);
exports.apiRouter = router;
